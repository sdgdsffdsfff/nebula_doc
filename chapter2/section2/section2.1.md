# 2.2.1. 配置要求

# 安装

## 安装部署前准备

安装 `TH-Nebula`对软件和硬件的系统要求:

**服务器要求**

|项目|确认数值|说明|
|:-------:|:-------:|:-------|
| 服务器操作系统 | centos 6.5/7.2 | 目前预编译系统只支持了`redhat`系的操作系统, 原生支持`cenots 6.5`或`centos 7.2`. 不采用流量镜像的部署可以使用其他小版本 |
| cpu/内存 | 8核16G以上 | 根据流量的大小预估来确定硬件配置. 大部分环境下8核16G, 其他情况需要参考`TH-Nebula`硬件配置要求的相关文档 |
| 硬盘 | 500G以上 确认分区 | 大部分情况下500G即可. 硬盘容量决定了 |
| SSD磁盘 | 确认分区 | 具备SSD磁盘可以加快用户画像模块的系统, 需要确认是否存在 |
| 独立的流量机器 | 是否需要 | 如果流量较大, 需要确认是否有独立的流量分析服务器供使用 |

**网络要求**

|项目|确认数值|说明|
|:-------:|:-------:|:-------|
| 网络镜像 | 确认服务器镜像流量的网口 | 如果采用硬件流量镜像, 需要确保交换机上已经完成配置, 并且确认服务器上流量镜像的网口 |
| 软流量镜像 | `agent`已经部署 | 云平台上, 可以尝试软流量镜像插件. 要确保流量采集的`agent`已经部署, 并配置了捕获流量的端口; 同时要确保流量宿主服务器与`TH-Nebula`服务器之间的网络畅通 |
| `https`流量确认 | `https` 卸载的节点 | `https`加密流量无法分析, 所以要确保获得的流量已经经过了`ssl` 的offloading, 从而拿到的是明文 |
| 管理端口开放 | 9100端口开放 | `TH-Nebula`的管理界面采用9100端口, 确保防火墙开放或已经做好内部的负载均衡配置 |
| 独立的流量机器 | 流量机与`TH-Nebula`机器互通 | 如果流量较大, 需要将流量采集机器独立, 确保流量采集机器可以访问`TH-Nebula`机器的9001端口 (配置获取) 和6379端口 (消息中间件) |

注:
*`TH-Nebula`会至少开放端口 (9001) , 请确保防火墙开放. *

这里介绍`TH-Nebula`安装方式, 在这里主要介绍两种安装方式:

- 二进制安装
- 源码安装
